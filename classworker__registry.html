<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>ReCodEx - Task Broker: worker_registry Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ReCodEx - Task Broker
   </div>
   <div id="projectbrief">ReCodEx is complex programmer testing solution, primary targeted to technical universities. It&#39;s highly customizable and based on modern technologies.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classworker__registry.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classworker__registry-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">worker_registry Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="worker__registry_8h_source.html">worker_registry.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aa4b5b2778872289bf1e94bd532437a71"><td class="memItemLeft" align="right" valign="top">typedef std::shared_ptr&lt; <a class="el" href="classworker.html">worker</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classworker__registry.html#aa4b5b2778872289bf1e94bd532437a71">worker_ptr</a></td></tr>
<tr class="separator:aa4b5b2778872289bf1e94bd532437a71"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa8d2e164953c238d7eaf12d979b43c20"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classworker__registry.html#aa8d2e164953c238d7eaf12d979b43c20">worker_registry</a> ()</td></tr>
<tr class="separator:aa8d2e164953c238d7eaf12d979b43c20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2755e2e762821279e5606ddff59072a1"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classworker__registry.html#a2755e2e762821279e5606ddff59072a1">add_worker</a> (<a class="el" href="classworker__registry.html#aa4b5b2778872289bf1e94bd532437a71">worker_ptr</a> <a class="el" href="classworker.html">worker</a>)</td></tr>
<tr class="separator:a2755e2e762821279e5606ddff59072a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d4b8a55fee30ea4098cbe3e928c7581"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classworker__registry.html#a8d4b8a55fee30ea4098cbe3e928c7581">remove_worker</a> (<a class="el" href="classworker__registry.html#aa4b5b2778872289bf1e94bd532437a71">worker_ptr</a> <a class="el" href="classworker.html">worker</a>)</td></tr>
<tr class="separator:a8d4b8a55fee30ea4098cbe3e928c7581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa84fe9b6d50a1fec17e7c424bdc20ae4"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classworker__registry.html#aa4b5b2778872289bf1e94bd532437a71">worker_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classworker__registry.html#aa84fe9b6d50a1fec17e7c424bdc20ae4">find_worker</a> (const <a class="el" href="structrequest.html#a5bff905fd1c57752fec568d5e069481c">request::headers_t</a> &amp;headers)</td></tr>
<tr class="separator:aa84fe9b6d50a1fec17e7c424bdc20ae4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51db93440be028d5f572a02984b20946"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classworker__registry.html#aa4b5b2778872289bf1e94bd532437a71">worker_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classworker__registry.html#a51db93440be028d5f572a02984b20946">find_worker_by_identity</a> (const std::string &amp;identity)</td></tr>
<tr class="separator:a51db93440be028d5f572a02984b20946"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ce97e617d3b53a04c05a5b7bcdc3443"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classworker__registry.html#a3ce97e617d3b53a04c05a5b7bcdc3443">deprioritize_worker</a> (<a class="el" href="classworker__registry.html#aa4b5b2778872289bf1e94bd532437a71">worker_ptr</a> <a class="el" href="classworker.html">worker</a>)</td></tr>
<tr class="separator:a3ce97e617d3b53a04c05a5b7bcdc3443"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaf61cc88fc83f18cf0e77bc2f34b732"><td class="memItemLeft" align="right" valign="top">virtual const std::vector&lt; <a class="el" href="classworker__registry.html#aa4b5b2778872289bf1e94bd532437a71">worker_ptr</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classworker__registry.html#adaf61cc88fc83f18cf0e77bc2f34b732">get_workers</a> () const </td></tr>
<tr class="separator:adaf61cc88fc83f18cf0e77bc2f34b732"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Service that stores information about worker machines and routes tasks to them. </p>

<p>Definition at line <a class="el" href="worker__registry_8h_source.html#l00014">14</a> of file <a class="el" href="worker__registry_8h_source.html">worker_registry.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="aa4b5b2778872289bf1e94bd532437a71"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::shared_ptr&lt;<a class="el" href="classworker.html">worker</a>&gt; <a class="el" href="classworker__registry.html#aa4b5b2778872289bf1e94bd532437a71">worker_registry::worker_ptr</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pointer to worker instance type. </p>

<p>Definition at line <a class="el" href="worker__registry_8h_source.html#l00018">18</a> of file <a class="el" href="worker__registry_8h_source.html">worker_registry.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa8d2e164953c238d7eaf12d979b43c20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">worker_registry::worker_registry </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Default constructor, initializes empty list of workers. </p>

<p>Definition at line <a class="el" href="worker__registry_8cpp_source.html#l00006">6</a> of file <a class="el" href="worker__registry_8cpp_source.html">worker_registry.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a2755e2e762821279e5606ddff59072a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void worker_registry::add_worker </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classworker__registry.html#aa4b5b2778872289bf1e94bd532437a71">worker_ptr</a>&#160;</td>
          <td class="paramname"><em>worker</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Adds new worker to the registry. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">worker</td><td>Worker instance to be added. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="worker__registry_8cpp_source.html#l00010">10</a> of file <a class="el" href="worker__registry_8cpp_source.html">worker_registry.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3ce97e617d3b53a04c05a5b7bcdc3443"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void worker_registry::deprioritize_worker </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classworker__registry.html#aa4b5b2778872289bf1e94bd532437a71">worker_registry::worker_ptr</a>&#160;</td>
          <td class="paramname"><em>worker</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Reduce the priority of a worker so that it's less likely to be found by subsequent finds. Now it means change order in worker queue to the last position, so most of the finds will succeed earlier. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">worker</td><td>Instance of worker whose priority will be lowered. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="worker__registry_8cpp_source.html#l00055">55</a> of file <a class="el" href="worker__registry_8cpp_source.html">worker_registry.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa84fe9b6d50a1fec17e7c424bdc20ae4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classworker__registry.html#aa4b5b2778872289bf1e94bd532437a71">worker_registry::worker_ptr</a> worker_registry::find_worker </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrequest.html#a5bff905fd1c57752fec568d5e069481c">request::headers_t</a> &amp;&#160;</td>
          <td class="paramname"><em>headers</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Find suitable worker on the basis of request headers. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">headers</td><td>Reqeust headers which we want to be fulfiled by any worker. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Instance to first suitable worker found or <em>nullptr</em>. </dd></dl>

<p>Definition at line <a class="el" href="worker__registry_8cpp_source.html#l00024">24</a> of file <a class="el" href="worker__registry_8cpp_source.html">worker_registry.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a51db93440be028d5f572a02984b20946"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classworker__registry.html#aa4b5b2778872289bf1e94bd532437a71">worker_registry::worker_ptr</a> worker_registry::find_worker_by_identity </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>identity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Find worker by it's unique identifier. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">identity</td><td>ID of worker we want to get instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Instance of worker with given ID or <em>nullptr</em>. </dd></dl>

<p>Definition at line <a class="el" href="worker__registry_8cpp_source.html#l00044">44</a> of file <a class="el" href="worker__registry_8cpp_source.html">worker_registry.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="adaf61cc88fc83f18cf0e77bc2f34b732"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; <a class="el" href="classworker__registry.html#aa4b5b2778872289bf1e94bd532437a71">worker_registry::worker_ptr</a> &gt; &amp; worker_registry::get_workers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get all workers known to this service. </p><dl class="section return"><dt>Returns</dt><dd>Collection of all known workers. </dd></dl>

<p>Definition at line <a class="el" href="worker__registry_8cpp_source.html#l00065">65</a> of file <a class="el" href="worker__registry_8cpp_source.html">worker_registry.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8d4b8a55fee30ea4098cbe3e928c7581"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void worker_registry::remove_worker </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classworker__registry.html#aa4b5b2778872289bf1e94bd532437a71">worker_ptr</a>&#160;</td>
          <td class="paramname"><em>worker</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Remove worker from registry, for example when connection is lost. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">worker</td><td>Worker instance to be removed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="worker__registry_8cpp_source.html#l00015">15</a> of file <a class="el" href="worker__registry_8cpp_source.html">worker_registry.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="worker__registry_8h_source.html">worker_registry.h</a></li>
<li>src/<a class="el" href="worker__registry_8cpp_source.html">worker_registry.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classworker__registry.html">worker_registry</a></li>
    <li class="footer">Generated on Wed Jul 27 2016 11:13:13 for ReCodEx - Task Broker by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
